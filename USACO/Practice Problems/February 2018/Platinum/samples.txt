


Cycles (add cycle length to all elements to make a new valid way):
[1]
[2, 3]
[3, 3, 4]
[3, 4, 4]
[4, 4, 4, 5]
[4, 4, 5, 5]
[4, 5, 5, 5]
Prediction:
[5, 5, 5, 5, 6]
[5, 5, 5, 6, 6]
[5, 5, 6, 6, 6]
[5, 6, 6, 6, 6]
etc...

[5, 6, 5, 5, 6]
[7, 7, 7, 6, 7, 6]

[6, 6, 6, 6, 6, 7]
[6, 6, 6, 6, 7, 6]
[6, 6, 6, 6, 7, 7]
[6, 6, 6, 7, 6, 6]
[6, 6, 6, 7, 6, 7]
[6, 6, 6, 7, 7, 6]
[6, 6, 6, 7, 7, 7]
[6, 6, 7, 6, 6, 6]
[6, 6, 7, 6, 6, 7]
[6, 6, 7, 6, 7, 6]
[6, 6, 7, 6, 7, 7]
[6, 6, 7, 7, 6, 6]
[6, 6, 7, 7, 6, 7]
[6, 6, 7, 7, 7, 6]
[6, 6, 7, 7, 7, 7]
[6, 7, 6, 6, 6, 6]
[6, 7, 6, 6, 6, 7]
[6, 7, 6, 6, 7, 6]
[6, 7, 6, 6, 7, 7]
[6, 7, 6, 7, 6, 6]
[6, 7, 6, 7, 6, 7]
[6, 7, 6, 7, 7, 6]
[6, 7, 6, 7, 7, 7]
[6, 7, 7, 6, 6, 6]
[6, 7, 7, 6, 6, 7]
[6, 7, 7, 6, 7, 6]
[6, 7, 7, 6, 7, 7]
[6, 7, 7, 7, 6, 6]
[6, 7, 7, 7, 6, 7]
[6, 7, 7, 7, 7, 6]
[6, 7, 7, 7, 7, 7]
[7, 6, 6, 6, 6, 6]
[7, 6, 6, 6, 6, 7]
[7, 6, 6, 6, 7, 6]
[7, 6, 6, 6, 7, 7]
[7, 6, 6, 7, 6, 6]
[7, 6, 6, 7, 6, 7]
[7, 6, 6, 7, 7, 6]
[7, 6, 6, 7, 7, 7]
[7, 6, 7, 6, 6, 6]
[7, 6, 7, 6, 6, 7]
[7, 6, 7, 6, 7, 6]
[7, 6, 7, 6, 7, 7]
[7, 6, 7, 7, 6, 6]
[7, 6, 7, 7, 6, 7]
[7, 6, 7, 7, 7, 6]
[7, 6, 7, 7, 7, 7]
[7, 7, 6, 6, 6, 6]
[7, 7, 6, 6, 6, 7]
[7, 7, 6, 6, 7, 6]
[7, 7, 6, 6, 7, 7]
[7, 7, 6, 7, 6, 6]
[7, 7, 6, 7, 6, 7]
[7, 7, 6, 7, 7, 6]
[7, 7, 6, 7, 7, 7]
[7, 7, 7, 6, 6, 6]
[7, 7, 7, 6, 6, 7]
[7, 7, 7, 6, 7, 6]
[7, 7, 7, 6, 7, 7]
[7, 7, 7, 7, 6, 6]
[7, 7, 7, 7, 6, 7]
[7, 7, 7, 7, 7, 6]

Can only use cycle if N is divisible by cycle length - Find prime factorization!

Finding all factors takes O(sqrt(N)) time - Perfect for 10^12, meaning it's probably right
Max # of factors = 40

(1 is a special case)
If divisible by 1: # ways += N

If divisible by 2: # ways += 1 * 2 * ((N - 1) / 2)
If divisible by 3: # ways += 2 * 3 * ((N - 1) / 3)
If divisible by 4: # ways += 3 * 4 * ((N - 1) / 4)
% 5: # ways += 4 * 5 * ((N - 1) / 5)
So on...

Excluding 1...
If divisible by D: # ways += (D-1) * D * ((N - 1) / D)

Test 1: Factors of 8 are 1, 2, 4, 8
1 -> 8
2 -> 6
4 -> 12
8 -> 0
Answer: 26

Test 2: Factors of 9 are 1, 3, 9
1 -> 9
3 -> 12
9 -> 0
Answer: 21

Test 3: Factors of 6 are 1, 2, 3, 6
1 -> 6
2 -> 4
3 -> 6
6 -> 0
Answer: 16

Yep!

Answers:
[0, 1, 2, 3, 6, 5, 16, 7, 26, 21]

Length 1:
[1]
Length 2:
[1, 1]
[2, 2]
Length 3:
[1, 1, 1]
[2, 2, 2]
[3, 3, 3]
Length 4:
[1, 1, 1, 1]
[2, 2, 2, 2]
[2, 3, 2, 3]
[3, 2, 3, 2]
[3, 3, 3, 3]
[4, 4, 4, 4]
Length 5:
[1, 1, 1, 1, 1]
[2, 2, 2, 2, 2]
[3, 3, 3, 3, 3]
[4, 4, 4, 4, 4]
[5, 5, 5, 5, 5]
Length 6:
[1, 1, 1, 1, 1, 1]
[2, 2, 2, 2, 2, 2]
[2, 3, 2, 3, 2, 3]
[3, 2, 3, 2, 3, 2]
[3, 3, 3, 3, 3, 3]
[3, 3, 4, 3, 3, 4]
[3, 4, 3, 3, 4, 3]
[3, 4, 4, 3, 4, 4]
[4, 3, 3, 4, 3, 3]
[4, 3, 4, 4, 3, 4]
[4, 4, 3, 4, 4, 3]
[4, 4, 4, 4, 4, 4]
[4, 5, 4, 5, 4, 5]
[5, 4, 5, 4, 5, 4]
[5, 5, 5, 5, 5, 5]
[6, 6, 6, 6, 6, 6]
Length 7:
[1, 1, 1, 1, 1, 1, 1]
[2, 2, 2, 2, 2, 2, 2]
[3, 3, 3, 3, 3, 3, 3]
[4, 4, 4, 4, 4, 4, 4]
[5, 5, 5, 5, 5, 5, 5]
[6, 6, 6, 6, 6, 6, 6]
[7, 7, 7, 7, 7, 7, 7]
Length 8:
[1, 1, 1, 1, 1, 1, 1, 1]
[2, 2, 2, 2, 2, 2, 2, 2]
[2, 3, 2, 3, 2, 3, 2, 3]
[3, 2, 3, 2, 3, 2, 3, 2]
[3, 3, 3, 3, 3, 3, 3, 3]
[4, 4, 4, 4, 4, 4, 4, 4]
[4, 4, 4, 5, 4, 4, 4, 5]
[4, 4, 5, 4, 4, 4, 5, 4]
[4, 4, 5, 5, 4, 4, 5, 5]
[4, 5, 4, 4, 4, 5, 4, 4]
[4, 5, 4, 5, 4, 5, 4, 5]
[4, 5, 5, 4, 4, 5, 5, 4]
[4, 5, 5, 5, 4, 5, 5, 5]
[5, 4, 4, 4, 5, 4, 4, 4]
[5, 4, 4, 5, 5, 4, 4, 5]
[5, 4, 5, 4, 5, 4, 5, 4]
[5, 4, 5, 5, 5, 4, 5, 5]
[5, 5, 4, 4, 5, 5, 4, 4]
[5, 5, 4, 5, 5, 5, 4, 5]
[5, 5, 5, 4, 5, 5, 5, 4]
[5, 5, 5, 5, 5, 5, 5, 5]
[6, 6, 6, 6, 6, 6, 6, 6]
[6, 7, 6, 7, 6, 7, 6, 7]
[7, 6, 7, 6, 7, 6, 7, 6]
[7, 7, 7, 7, 7, 7, 7, 7]
[8, 8, 8, 8, 8, 8, 8, 8]
Length 9:
[1, 1, 1, 1, 1, 1, 1, 1, 1]
[2, 2, 2, 2, 2, 2, 2, 2, 2]
[3, 3, 3, 3, 3, 3, 3, 3, 3]
[3, 3, 4, 3, 3, 4, 3, 3, 4]
[3, 4, 3, 3, 4, 3, 3, 4, 3]
[3, 4, 4, 3, 4, 4, 3, 4, 4]
[4, 3, 3, 4, 3, 3, 4, 3, 3]
[4, 3, 4, 4, 3, 4, 4, 3, 4]
[4, 4, 3, 4, 4, 3, 4, 4, 3]
[4, 4, 4, 4, 4, 4, 4, 4, 4]
[5, 5, 5, 5, 5, 5, 5, 5, 5]
[6, 6, 6, 6, 6, 6, 6, 6, 6]
[6, 6, 7, 6, 6, 7, 6, 6, 7]
[6, 7, 6, 6, 7, 6, 6, 7, 6]
[6, 7, 7, 6, 7, 7, 6, 7, 7]
[7, 6, 6, 7, 6, 6, 7, 6, 6]
[7, 6, 7, 7, 6, 7, 7, 6, 7]
[7, 7, 6, 7, 7, 6, 7, 7, 6]
[7, 7, 7, 7, 7, 7, 7, 7, 7]
[8, 8, 8, 8, 8, 8, 8, 8, 8]
[9, 9, 9, 9, 9, 9, 9, 9, 9]